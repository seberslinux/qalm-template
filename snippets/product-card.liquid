{% comment %}
  Accepts:
  - product: {Object} Product object
  - show_colors: {Boolean} Whether to show color swatches
{% endcomment %}

<div class="group">
  <div class="relative overflow-hidden mb-4">
    <a href="{{ product.url }}">
      {% if product.featured_image %}
        <img src="{{ product.featured_image | image_url: width: 800 }}" 
             alt="{{ product.title }}" 
             class="w-full h-[400px] object-cover transition-transform duration-700 group-hover:scale-105" 
             loading="lazy" />
      {% else %}
        <div class="w-full h-[400px] bg-gray-200 flex items-center justify-center">
          <span class="text-gray-500">No image</span>
        </div>
      {% endif %}
      
      <div class="absolute bottom-0 left-0 right-0 p-4 bg-white bg-opacity-90 transform translate-y-full transition-transform duration-300 group-hover:translate-y-0">
        <button class="w-full py-3 bg-black text-white text-sm uppercase tracking-wider hover:bg-gray-800 transition-colors">
          Add to Cart
        </button>
      </div>
    </a>
  </div>
  
  <h3 class="text-lg font-light">{{ product.title }}</h3>
  <p class="text-gray-700 mb-2">{{ product.price | money }}</p>
  
  {% if show_colors and product.options_by_name['Color'].values.size > 0 %}
    <div class="flex gap-2 mt-2">
      {% for color_value in product.options_by_name['Color'].values %}
        {% assign color_code = color_value | downcase %}
        {% if color_code == 'white' %}
          {% assign color_code = '#E0E0E0' %}
        {% elsif color_code == 'beige' or color_code == 'tan' %}
          {% assign color_code = '#C9B7A8' %}
        {% elsif color_code == 'black' %}
          {% assign color_code = '#000000' %}
        {% elsif color_code == 'gray' or color_code == 'grey' %}
          {% assign color_code = '#6B7D7D' %}
        {% endif %}
        <div class="w-4 h-4 rounded-full border border-gray-300" 
             style="background-color: {{ color_code }};" 
             aria-label="Color: {{ color_value }}">
        </div>
      {% endfor %}
    </div>
  {% endif %}
</div>
